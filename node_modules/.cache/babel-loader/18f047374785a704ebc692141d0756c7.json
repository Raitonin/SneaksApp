{"ast":null,"code":"import _slicedToArray from\"/Users/dhruv/Sneaks/sneaks-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MiniCard from'./MiniCard';import Spinner from'react-bootstrap/Spinner';import'bootstrap/dist/css/bootstrap.min.css';import React,{useState,useEffect}from'react';var Products=function Products(_ref){var match=_ref.match,location=_ref.location;var myHeaders=new Headers({\"Content-Type\":\"application/json\",Accept:\"application/json\"});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sneakers=_useState4[0],setSneakers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var key=match.params.key;useEffect(function(){setErrorMessage(null);setLoading(true);window.scrollTo({top:100,behavior:'smooth'});fetch(\"http://localhost:8080/search/\"+key,{headers:myHeaders}).then(function(response){return response.json();}).then(function(jsonResponse){setSneakers(jsonResponse);setLoading(false);window.scrollTo({top:625,behavior:'smooth'});}).catch(function(err){return setErrorMessage(\"No Products Found\");});},[location]);return/*#__PURE__*/React.createElement(\"div\",{class:\"product-section\"},/*#__PURE__*/React.createElement(\"h2\",{class:\"product-title\"},\" Results for \",/*#__PURE__*/React.createElement(\"span\",{class:\"product-key\"},\"'\",key,\"'\"),\" \"),/*#__PURE__*/React.createElement(\"div\",{class:\"product-page\"},loading&&!errorMessage?/*#__PURE__*/React.createElement(Spinner,{class:\"spinners\",animation:\"border\",variant:\"secondary\",role:\"status\"}):errorMessage?/*#__PURE__*/React.createElement(\"div\",{className:\"errorMessage\"},errorMessage):sneakers.map(function(sneaker,index){return/*#__PURE__*/React.createElement(MiniCard,{key:\"\".concat(index,\"-\").concat(sneaker.shoename),sneaker:sneaker});})));};export default Products;","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/src/components/Products.js"],"names":["MiniCard","Spinner","React","useState","useEffect","Products","match","location","myHeaders","Headers","Accept","loading","setLoading","sneakers","setSneakers","errorMessage","setErrorMessage","key","params","window","scrollTo","top","behavior","fetch","headers","then","response","json","jsonResponse","catch","err","map","sneaker","index","shoename"],"mappings":"yJAAA,MAAOA,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAyB,IAAtBC,CAAAA,KAAsB,MAAtBA,KAAsB,CAAfC,QAAe,MAAfA,QAAe,CACtC,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,OAAJ,CAAY,CAC5B,eAAgB,kBADY,CAE5BC,MAAM,CAAE,kBAFoB,CAAZ,CAAlB,CADsC,cAKRP,QAAQ,CAAC,IAAD,CALA,wCAK/BQ,OAL+B,eAKtBC,UALsB,8BAMNT,QAAQ,CAAC,EAAD,CANF,yCAM/BU,QAN+B,eAMrBC,WANqB,8BAOEX,QAAQ,CAAC,IAAD,CAPV,yCAO/BY,YAP+B,eAOjBC,eAPiB,kBAUlCC,CAAAA,GAVkC,CAYlCX,KAZkC,CASpCY,MAToC,CAUlCD,GAVkC,CActCb,SAAS,CAAC,UAAM,CACdY,eAAe,CAAC,IAAD,CAAf,CACAJ,UAAU,CAAC,IAAD,CAAV,CACAO,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,GADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAIAC,KAAK,CAAC,gCAAkCN,GAAnC,CAAwC,CACzCO,OAAO,CAAEhB,SADgC,CAAxC,CAAL,CAGGiB,IAHH,CAGQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAHhB,EAIGF,IAJH,CAIQ,SAAAG,YAAY,CAAI,CACpBd,WAAW,CAACc,YAAD,CAAX,CACAhB,UAAU,CAAC,KAAD,CAAV,CACAO,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,GADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAID,CAXH,EAYGO,KAZH,CAYS,SAAAC,GAAG,QAAId,CAAAA,eAAe,CAAC,mBAAD,CAAnB,EAZZ,EAaD,CApBQ,CAoBN,CAACT,QAAD,CApBM,CAAT,CAsBA,mBACI,2BAAK,KAAK,CAAC,iBAAX,eACE,0BAAI,KAAK,CAAC,eAAV,+BAAuC,4BAAM,KAAK,CAAC,aAAZ,MAA4BU,GAA5B,KAAvC,KADF,cAEE,2BAAK,KAAK,CAAC,cAAX,EACGN,OAAO,EAAI,CAACI,YAAZ,cACD,oBAAC,OAAD,EAAS,KAAK,CAAC,UAAf,CAA0B,SAAS,CAAC,QAApC,CAA6C,OAAO,CAAC,WAArD,CAAiE,IAAI,CAAC,QAAtE,EADC,CAGGA,YAAY,cAChB,2BAAK,SAAS,CAAC,cAAf,EAA+BA,YAA/B,CADgB,CAGhBF,QAAQ,CAACkB,GAAT,CAAa,SAACC,OAAD,CAAUC,KAAV,qBAEb,oBAAC,QAAD,EAAU,GAAG,WAAKA,KAAL,aAAcD,OAAO,CAACE,QAAtB,CAAb,CAA+C,OAAO,CAAEF,OAAxD,EAFa,EAAb,CAPF,CAFF,CADJ,CAkBH,CAtDD,CAwDA,cAAe3B,CAAAA,QAAf","sourcesContent":["import MiniCard from './MiniCard'\nimport Spinner from 'react-bootstrap/Spinner'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from 'react';\n\n\n\nconst Products = ({ match, location }) => {\n    const myHeaders = new Headers({\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    });\n    const [loading, setLoading] = useState(true);\n    const [sneakers, setSneakers] = useState([]);\n    const [errorMessage, setErrorMessage] = useState(null);\n    const {\n      params: {\n        key\n      }\n    } = match;\n\n    useEffect(() => {\n      setErrorMessage(null)\n      setLoading(true);\n      window.scrollTo({\n        top: 100,\n        behavior: 'smooth'\n      })\n      fetch(\"http://localhost:8080/search/\" + key, {\n          headers: myHeaders,\n        })\n        .then(response => response.json())\n        .then(jsonResponse => {\n          setSneakers(jsonResponse);\n          setLoading(false);\n          window.scrollTo({\n            top: 625,\n            behavior: 'smooth'\n          })\n        })\n        .catch(err => setErrorMessage(\"No Products Found\"));\n    }, [location]);\n\n    return(\n        <div class='product-section'>\n          <h2 class='product-title'> Results for <span class=\"product-key\">'{key}'</span> </h2>\n          <div class='product-page'>\n            {loading && !errorMessage ? (\n            <Spinner class='spinners' animation=\"border\" variant=\"secondary\" role=\"status\"></Spinner>\n\n            ) : errorMessage ? (\n            <div className=\"errorMessage\">{errorMessage}</div>\n            ) : (\n            sneakers.map((sneaker, index) => (\n\n            <MiniCard key={`${index}-${sneaker.shoename}`} sneaker={sneaker} />\n            ))\n            )}\n          </div>\n        </div>\n      )\n}\n\nexport default Products;"]},"metadata":{},"sourceType":"module"}