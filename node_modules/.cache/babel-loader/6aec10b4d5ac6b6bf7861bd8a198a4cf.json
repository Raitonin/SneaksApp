{"ast":null,"code":"const got = require('got');\n\nmodule.exports = async (query, options = {}) => {\n  const {\n    limit,\n    proxy,\n    userAgent\n  } = options;\n  const res = await got(\"https://xw7sbct9v6-1.algolianet.com/1/indexes/products/query?x-algolia-agent=Algolia%20for%20vanilla%20JavaScript%203.32.1&x-algolia-application-id=XW7SBCT9V6&x-algolia-api-key=6bfb5abee4dcd8cea8f0ca1ca085c2b3\", {\n    headers: {\n      \"user-agent\": userAgent,\n      \"accept\": \"application/json\",\n      \"accept-language\": \"en-US,en;q=0.9\",\n      \"content-type\": \"application/x-www-form-urlencoded\",\n      \"sec-fetch-dest\": \"empty\",\n      \"sec-fetch-mode\": \"cors\",\n      \"sec-fetch-site\": \"cross-site\"\n    },\n    body: `{\\\"params\\\":\\\"query=${encodeURIComponent(query)}&facets=*&filters=\\\"}`,\n    method: \"POST\",\n    http2: true,\n    responseType: 'json'\n  });\n  const {\n    body\n  } = res;\n  const {\n    hits\n  } = body;\n  const target = limit !== undefined ? hits.slice(0, limit) : hits;\n  if (hits == \"\") throw new Error(\"No products found\");else return target;\n};","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/node_modules/stockx-api/src/api/scrapers/newsearchproducts.js"],"names":["got","require","module","exports","query","options","limit","proxy","userAgent","res","headers","body","encodeURIComponent","method","http2","responseType","hits","target","undefined","slice","Error"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,OAAOC,KAAP,EAAcC,OAAO,GAAG,EAAxB,KAA+B;AAC5C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,KAAT;AAAgBC,IAAAA;AAAhB,MAA8BH,OAApC;AAEA,QAAMI,GAAG,GAAG,MAAMT,GAAG,CAAC,mNAAD,EAAsN;AACvOU,IAAAA,OAAO,EAAE;AACL,oBAAcF,SADT;AAEL,gBAAU,kBAFL;AAGL,yBAAmB,gBAHd;AAIL,sBAAgB,mCAJX;AAKL,wBAAkB,OALb;AAML,wBAAkB,MANb;AAOL,wBAAkB;AAPb,KAD8N;AAUvOG,IAAAA,IAAI,EAAG,uBAAsBC,kBAAkB,CAACR,KAAD,CAAQ,uBAVgL;AAWvOS,IAAAA,MAAM,EAAE,MAX+N;AAYvOC,IAAAA,KAAK,EAAE,IAZgO;AAavOC,IAAAA,YAAY,EAAE;AAbyN,GAAtN,CAArB;AAgBA,QAAM;AAAEJ,IAAAA;AAAF,MAAWF,GAAjB;AAEA,QAAM;AAAEO,IAAAA;AAAF,MAAWL,IAAjB;AACA,QAAMM,MAAM,GAAGX,KAAK,KAAKY,SAAV,GAAsBF,IAAI,CAACG,KAAL,CAAW,CAAX,EAAcb,KAAd,CAAtB,GAA6CU,IAA5D;AAEA,MAAIA,IAAI,IAAI,EAAZ,EAAgB,MAAM,IAAII,KAAJ,CAAU,mBAAV,CAAN,CAAhB,KACK,OAAOH,MAAP;AACR,CA1BD","sourcesContent":["const got = require('got');\n\nmodule.exports = async (query, options = {}) => {\n    const { limit, proxy, userAgent } = options;\n\n    const res = await got(\"https://xw7sbct9v6-1.algolianet.com/1/indexes/products/query?x-algolia-agent=Algolia%20for%20vanilla%20JavaScript%203.32.1&x-algolia-application-id=XW7SBCT9V6&x-algolia-api-key=6bfb5abee4dcd8cea8f0ca1ca085c2b3\", {\n        headers: {\n            \"user-agent\": userAgent,\n            \"accept\": \"application/json\",\n            \"accept-language\": \"en-US,en;q=0.9\",\n            \"content-type\": \"application/x-www-form-urlencoded\",\n            \"sec-fetch-dest\": \"empty\",\n            \"sec-fetch-mode\": \"cors\",\n            \"sec-fetch-site\": \"cross-site\"\n        },\n        body: `{\\\"params\\\":\\\"query=${encodeURIComponent(query)}&facets=*&filters=\\\"}`,\n        method: \"POST\",\n        http2: true,\n        responseType: 'json'\n    });\n\n    const { body } = res;\n\n    const { hits } = body;\n    const target = limit !== undefined ? hits.slice(0, limit) : hits;\n\n    if (hits == \"\") throw new Error(\"No products found\");\n    else return target;\n};"]},"metadata":{},"sourceType":"script"}