{"ast":null,"code":"const SneaksAPI = require('../controllers/sneaks.controllers.js');\n\nconst sneaks = new SneaksAPI();\n\nmodule.exports = app => {\n  app.use(function (req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    next();\n  }); //Grabs sneaker info from the database given the styleID\n\n  app.get('/id/:id', function (req, res) {\n    sneaks.findOne(req.params.id, function (error, shoe) {\n      if (error) {\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(shoe);\n      }\n    });\n  }); //Grabs price maps from each site of a particular shoe\n\n  app.get('/id/:id/prices', function (req, res) {\n    sneaks.getProductPrices(req.params.id, function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //grabs the most popular sneakers \n\n  app.get('/home', function (req, res) {\n    sneaks.getMostPopular(function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //Grabs all sneakers given a keyword/parameter\n\n  app.get('/search/:shoe', function (req, res) {\n    sneaks.getProducts(req.params.shoe, function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"Product Not Found\");\n      } else {\n        res.json(products);\n      }\n    });\n  });\n  app.get('/shoes', function (req, res) {\n    sneaks.findAll(function (error, products) {\n      if (error) {\n        console.log(error);\n        res.send(\"No Products In Database\");\n      } else {\n        res.json(products);\n      }\n    });\n  }); //redirects root route to home page\n\n  app.get('/', function (req, res) {\n    res.redirect('/home');\n  });\n};","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/node_modules/sneaks-api/routes/sneaks.routes.js"],"names":["SneaksAPI","require","sneaks","module","exports","app","use","req","res","next","header","get","findOne","params","id","error","shoe","send","json","getProductPrices","products","console","log","getMostPopular","getProducts","findAll","redirect"],"mappings":"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","sourcesContent":["const SneaksAPI = require('../controllers/sneaks.controllers.js');\nconst sneaks = new SneaksAPI();\nmodule.exports = (app) => {\n    app.use(function (req, res, next) {\n        res.header(\"Access-Control-Allow-Origin\", \"*\");\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        next();\n    });\n\n    //Grabs sneaker info from the database given the styleID\n    app.get('/id/:id', function(req, res){\n        sneaks.findOne(req.params.id, function(error, shoe){\n            if (error) {\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(shoe);\n              }\n        })\n    });\n\n    //Grabs price maps from each site of a particular shoe\n    app.get('/id/:id/prices', function(req, res){\n        sneaks.getProductPrices(req.params.id, function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //grabs the most popular sneakers \n    app.get('/home', function(req, res){\n        sneaks.getMostPopular(function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //Grabs all sneakers given a keyword/parameter\n    app.get('/search/:shoe', function(req, res){\n        sneaks.getProducts(req.params.shoe, function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"Product Not Found\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    app.get('/shoes', function(req, res){\n        sneaks.findAll( function(error, products){\n            if (error) {\n                console.log(error)\n                res.send(\"No Products In Database\");\n              } else {\n                res.json(products);\n              }\n        })\n    });\n\n    //redirects root route to home page\n    app.get('/', function (req, res) {\n        res.redirect('/home')\n    });\n\n}"]},"metadata":{},"sourceType":"script"}