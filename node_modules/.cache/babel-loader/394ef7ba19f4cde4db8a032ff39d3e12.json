{"ast":null,"code":"const request = require('request-promise');\n\nmodule.exports = async options => {\n  const {\n    wa,\n    wresult,\n    wctx,\n    cookieJar,\n    proxy,\n    userAgent\n  } = options;\n  const dataString = `wa=${wa}&wresult=${wresult}&wctx=${wctx}`;\n  const reqOptions = {\n    uri: `https://accounts.stockx.com/login/callback`,\n    method: 'POST',\n    headers: {\n      'authority': 'accounts.stockx.com',\n      'cache-control': 'max-age=0',\n      'origin': 'https://accounts.stockx.com',\n      'upgrade-insecure-requests': '1',\n      'content-type': 'application/x-www-form-urlencoded',\n      'user-agent': userAgent,\n      'sec-fetch-mode': 'navigate',\n      'sec-fetch-user': '?1',\n      'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',\n      'sec-fetch-site': 'same-origin'\n    },\n    body: encodeURI(dataString),\n    jar: cookieJar,\n    followAllRedirects: true,\n    followRedirect: true,\n    simple: false,\n    resolveWithFullResponse: true,\n    proxy\n  }; //Go through stockX callback\n\n  const res = await request(reqOptions);\n  if (res.statusCode != 200) throw new Error(`Status code error ${res.statusCode} - Response: ${res.body}`);\n};","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/node_modules/stockx-api/src/api/login/submitcallback.js"],"names":["request","require","module","exports","options","wa","wresult","wctx","cookieJar","proxy","userAgent","dataString","reqOptions","uri","method","headers","body","encodeURI","jar","followAllRedirects","followRedirect","simple","resolveWithFullResponse","res","statusCode","Error"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,iBAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,MAAOC,OAAP,IAAmB;AAChC,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA,IAAf;AAAqBC,IAAAA,SAArB;AAAgCC,IAAAA,KAAhC;AAAuCC,IAAAA;AAAvC,MAAqDN,OAA3D;AAEA,QAAMO,UAAU,GAAI,MAAKN,EAAG,YAAWC,OAAQ,SAAQC,IAAK,EAA5D;AACA,QAAMK,UAAU,GAAG;AACfC,IAAAA,GAAG,EAAG,4CADS;AAEfC,IAAAA,MAAM,EAAE,MAFO;AAGfC,IAAAA,OAAO,EAAE;AACL,mBAAa,qBADR;AAEL,uBAAiB,WAFZ;AAGL,gBAAU,6BAHL;AAIL,mCAA6B,GAJxB;AAKL,sBAAgB,mCALX;AAML,oBAAcL,SANT;AAOL,wBAAkB,UAPb;AAQL,wBAAkB,IARb;AASL,gBAAU,wHATL;AAUL,wBAAkB;AAVb,KAHM;AAefM,IAAAA,IAAI,EAAEC,SAAS,CAACN,UAAD,CAfA;AAgBfO,IAAAA,GAAG,EAAEV,SAhBU;AAiBfW,IAAAA,kBAAkB,EAAE,IAjBL;AAkBfC,IAAAA,cAAc,EAAE,IAlBD;AAmBfC,IAAAA,MAAM,EAAE,KAnBO;AAoBfC,IAAAA,uBAAuB,EAAE,IApBV;AAqBfb,IAAAA;AArBe,GAAnB,CAJgC,CA4BhC;;AACA,QAAMc,GAAG,GAAG,MAAMvB,OAAO,CAACY,UAAD,CAAzB;AAEA,MAAIW,GAAG,CAACC,UAAJ,IAAkB,GAAtB,EAA2B,MAAM,IAAIC,KAAJ,CAAW,qBAAoBF,GAAG,CAACC,UAAW,gBAAeD,GAAG,CAACP,IAAK,EAAtE,CAAN;AAC9B,CAhCD","sourcesContent":["const request = require('request-promise');\n\nmodule.exports = async (options) => {\n    const { wa, wresult, wctx, cookieJar, proxy, userAgent } = options;\n\n    const dataString = `wa=${wa}&wresult=${wresult}&wctx=${wctx}`;\n    const reqOptions = {\n        uri: `https://accounts.stockx.com/login/callback`,\n        method: 'POST',\n        headers: {\n            'authority': 'accounts.stockx.com',\n            'cache-control': 'max-age=0',\n            'origin': 'https://accounts.stockx.com',\n            'upgrade-insecure-requests': '1',\n            'content-type': 'application/x-www-form-urlencoded',\n            'user-agent': userAgent,\n            'sec-fetch-mode': 'navigate',\n            'sec-fetch-user': '?1',\n            'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',\n            'sec-fetch-site': 'same-origin'\n        },\n        body: encodeURI(dataString),\n        jar: cookieJar,\n        followAllRedirects: true,\n        followRedirect: true,\n        simple: false,\n        resolveWithFullResponse: true,\n        proxy\n    };\n\n    //Go through stockX callback\n    const res = await request(reqOptions);\n\n    if (res.statusCode != 200) throw new Error(`Status code error ${res.statusCode} - Response: ${res.body}`);\n};"]},"metadata":{},"sourceType":"script"}