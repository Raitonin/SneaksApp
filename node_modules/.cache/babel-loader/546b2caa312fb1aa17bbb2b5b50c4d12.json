{"ast":null,"code":"const request = require('request-promise');\n\nconst moment = require('moment');\n\nmodule.exports = async (bearer, options) => {\n  const {\n    amount,\n    variantID,\n    currency,\n    proxy,\n    cookieJar,\n    userAgent\n  } = options;\n  const expiresAt = moment().add(30, 'days').utc().format();\n  const res = await request({\n    uri: 'https://stockx.com/api/portfolio?a=bid',\n    method: 'POST',\n    headers: {\n      'Host': 'stockx.com',\n      'sec-fetch-mode': 'cors',\n      'origin': 'https://stockx.com',\n      'authorization': `Bearer ${bearer}`,\n      'content-type': 'application/json',\n      'appos': 'web',\n      'x-requested-with': 'XMLHttpRequest',\n      'user-agent': userAgent,\n      'appversion': '0.1',\n      'accept': '*/*',\n      'sec-fetch-site': 'same-origin',\n      'accept-language': 'en-US,en;q=0.9'\n    },\n    json: {\n      PortfolioItem: {\n        localAmount: amount,\n        skuUuid: variantID,\n        localCurrency: currency,\n        expiresAt: expiresAt\n      }\n    },\n    jar: cookieJar,\n    simple: false,\n    resolveWithFullResponse: true,\n    proxy\n  });\n\n  if (res.statusCode !== 200) {\n    const e = new Error(`Status code error: ${res.statusCode}`);\n    e.statusCode = res.statusCode;\n    e.body = res.body;\n    throw e;\n  }\n\n  ;\n  return {\n    id: res.body.PortfolioItem.chainId,\n    response: res.body\n  };\n};","map":{"version":3,"sources":["/Users/dhruv/Sneaks/sneaks-website/node_modules/stockx-api/src/api/placebid/placebid.js"],"names":["request","require","moment","module","exports","bearer","options","amount","variantID","currency","proxy","cookieJar","userAgent","expiresAt","add","utc","format","res","uri","method","headers","json","PortfolioItem","localAmount","skuUuid","localCurrency","jar","simple","resolveWithFullResponse","statusCode","e","Error","body","id","chainId","response"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,OAAOC,MAAP,EAAeC,OAAf,KAA2B;AACxC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,SAAV;AAAqBC,IAAAA,QAArB;AAA+BC,IAAAA,KAA/B;AAAsCC,IAAAA,SAAtC;AAAiDC,IAAAA;AAAjD,MAA+DN,OAArE;AACA,QAAMO,SAAS,GAAGX,MAAM,GAAGY,GAAT,CAAa,EAAb,EAAiB,MAAjB,EAAyBC,GAAzB,GAA+BC,MAA/B,EAAlB;AAEA,QAAMC,GAAG,GAAG,MAAMjB,OAAO,CAAC;AACtBkB,IAAAA,GAAG,EAAE,wCADiB;AAEtBC,IAAAA,MAAM,EAAE,MAFc;AAGtBC,IAAAA,OAAO,EAAE;AACL,cAAQ,YADH;AAEL,wBAAkB,MAFb;AAGL,gBAAU,oBAHL;AAIL,uBAAkB,UAASf,MAAO,EAJ7B;AAKL,sBAAgB,kBALX;AAML,eAAS,KANJ;AAOL,0BAAoB,gBAPf;AAQL,oBAAcO,SART;AASL,oBAAc,KATT;AAUL,gBAAU,KAVL;AAWL,wBAAkB,aAXb;AAYL,yBAAmB;AAZd,KAHa;AAiBtBS,IAAAA,IAAI,EAAE;AACFC,MAAAA,aAAa,EAAE;AACXC,QAAAA,WAAW,EAAEhB,MADF;AAEXiB,QAAAA,OAAO,EAAEhB,SAFE;AAGXiB,QAAAA,aAAa,EAAEhB,QAHJ;AAIXI,QAAAA,SAAS,EAAEA;AAJA;AADb,KAjBgB;AAyBtBa,IAAAA,GAAG,EAAEf,SAzBiB;AA0BtBgB,IAAAA,MAAM,EAAE,KA1Bc;AA2BtBC,IAAAA,uBAAuB,EAAE,IA3BH;AA4BtBlB,IAAAA;AA5BsB,GAAD,CAAzB;;AA+BA,MAAIO,GAAG,CAACY,UAAJ,KAAmB,GAAvB,EAA2B;AACvB,UAAMC,CAAC,GAAG,IAAIC,KAAJ,CAAW,sBAAqBd,GAAG,CAACY,UAAW,EAA/C,CAAV;AACAC,IAAAA,CAAC,CAACD,UAAF,GAAeZ,GAAG,CAACY,UAAnB;AACAC,IAAAA,CAAC,CAACE,IAAF,GAASf,GAAG,CAACe,IAAb;AAEA,UAAMF,CAAN;AACH;;AAAA;AAED,SAAO;AACHG,IAAAA,EAAE,EAAEhB,GAAG,CAACe,IAAJ,CAASV,aAAT,CAAuBY,OADxB;AAEHC,IAAAA,QAAQ,EAAElB,GAAG,CAACe;AAFX,GAAP;AAIH,CA/CD","sourcesContent":["const request = require('request-promise');\nconst moment = require('moment');\n\nmodule.exports = async (bearer, options) => {\n    const { amount, variantID, currency, proxy, cookieJar, userAgent } = options;\n    const expiresAt = moment().add(30, 'days').utc().format();\n\n    const res = await request({\n        uri: 'https://stockx.com/api/portfolio?a=bid',\n        method: 'POST',\n        headers: {\n            'Host': 'stockx.com',\n            'sec-fetch-mode': 'cors',\n            'origin': 'https://stockx.com',\n            'authorization': `Bearer ${bearer}`,\n            'content-type': 'application/json',\n            'appos': 'web',\n            'x-requested-with': 'XMLHttpRequest',\n            'user-agent': userAgent,\n            'appversion': '0.1',\n            'accept': '*/*',\n            'sec-fetch-site': 'same-origin',\n            'accept-language': 'en-US,en;q=0.9',\n        },\n        json: {\n            PortfolioItem: {\n                localAmount: amount,\n                skuUuid: variantID,\n                localCurrency: currency,\n                expiresAt: expiresAt\n            }\n        },\n        jar: cookieJar,\n        simple: false,\n        resolveWithFullResponse: true,\n        proxy\n    });\n\n    if (res.statusCode !== 200){\n        const e = new Error(`Status code error: ${res.statusCode}`);\n        e.statusCode = res.statusCode;\n        e.body = res.body;\n\n        throw e;\n    };\n\n    return {\n        id: res.body.PortfolioItem.chainId,\n        response: res.body\n    };\n};"]},"metadata":{},"sourceType":"script"}